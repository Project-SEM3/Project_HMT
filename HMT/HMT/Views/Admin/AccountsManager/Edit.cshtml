@model HMT.Models.HMTModel.UserWithRolesViewModel

@{
    ViewData["Title"] = "Edit Account";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<main class="p-6">
<section class="w-full rounded-md bg-white shadow p-5 dark:bg-dark mb-6">
        <h3 class="font-medium text-lg pb-5 dark:text-white">Edit Account</h3>
    <form asp-action="Edit" asp-controller="AccountsManager" method="post" class="grid grid-cols-5 gap-5" enctype="multipart/form-data">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input type="hidden" asp-for="@Model.User.Id" value="@Model.User.Id" />
        <div class="flex justify-center">
            <div class="relative h-fit">
                <img id="avatarEditImg" class="h-36 w-36 rounded-full object-cover"
                     src="~/img/@(@Model.User.Image == "" ? "Avatar-Default.jpg" : @Model.User.Image)" alt="avartar">
                <label for="avatarEdit"
                       class="w-10 h-10 rounded-full flex items-center justify-center cursor-pointer bg-gray-100 shadow-md hover:bg-gray-200 absolute bottom-0 right-0 dark:text-gray-300 dark:bg-gray-500 dark:hover:bg-gray-600">
                    <i class="fa-solid fa-pen"></i>
                </label>
            </div>
            <input id="avatarEdit" type="file" class="hidden" asp-for="@Model.User.FrontImage" value="@Model.User.Image">
        </div>
        <div class="col-span-4">
            <div class="grid grid-cols-2 gap-5">
                <div class="mb-6">
                    <label asp-for="@Model.User.Email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label>
                    <input type="email" id="email" asp-for="@Model.User.Email" value="@Model.User.Email"
                           class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg outline-none focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                           placeholder="Enter email" disabled>
                    <span asp-validation-for="@Model.User.Email" class="text-red-700 text-sm"></span>
                </div>
                <div class="mb-6">
                    <label asp-for="@Model.User.PhoneNumber" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Phone</label>
                    <input type="text" id="phone" asp-for="@Model.User.PhoneNumber" value="@Model.User.PhoneNumber"
                           class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg outline-none focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                           placeholder="vd: 098587656" required>
                    <span asp-validation-for="@Model.User.PhoneNumber" class="text-red-700 text-sm"></span>
                </div>
                <div class="mb-6">
                    <label asp-for="@Model.User.FullName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
                        Full Name
                    </label>
                    <input type="text" id="fullName" asp-for="@Model.User.FullName" value="@Model.User.FullName"
                           class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg outline-none focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                           placeholder="Enter full name" required>
                    <span asp-validation-for="@Model.User.FullName" class="text-red-700 text-sm"></span>
                </div>
                <div class="mb-6">
                    <label asp-for="@Model.User.Address"
                           class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Address</label>
                    <input type="text" id="address" asp-for="@Model.User.Address" value="@Model.User.Address"
                           class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg outline-none focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                           placeholder="Enter address" required>
                    <span asp-validation-for="@Model.User.Address" class="text-red-700 text-sm"></span>
                </div>
                 <div class="mb-6">
                    <label for="Roles" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Select role:</label>
                    <select name="Roles" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg outline-none focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                        @foreach (var role in ViewBag.Roles)
                        {
                            <option value="@role.NormalizedName" selected="@(Model.Roles.FirstOrDefault() == role.Name)">@role.Name</option>
                        }
                    </select>
                    @*@Html.DropDownList( "Role",(IEnumerable<SelectListItem>)ViewBag.Roles, new { @class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg outline-none focus:border-primary block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" })*@

                </div>
            </div>
            <div>
                <a asp-action="Index" class="text-white py-2 px-6 rounded-md bg-primary bg-red-500 text-sm hover:bg-red-600">Cancel</a>
                <button type="submit" class="text-white py-2 px-12 rounded-md bg-primary text-sm hover:bg-sky-600">Save</button>
            </div>
        </div>
    </form>
</section>
</main>